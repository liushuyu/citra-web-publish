<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
        <meta name="theme-color" content="#FF8E03">
        <meta property="og:title" content="User Directory &middot; Citra" />
        <meta property="og:site_name" content="Citra" />
        <meta property="og:url" content="https://citra-emu.org/wiki/user-directory/" />
            <meta property="og:description" content="The User Directory Citra&rsquo;s user directory is where the emulator persists the emulated 3DS NAND, save data, extra data, and a host of other files necessary for Citra to run properly. The path of the user directory varies on different systems:
 on Windows, the path is C:/Users/[your-user-name]/AppData/Roaming/Citra/. Note that the folder AppData is hidden by default, so you need to change the configuration to view it.  in old version of Citra, the user directory used to be the user folder in the same directory as the Citra executable." />
<meta name="description" content="The User Directory Citra&rsquo;s user directory is where the emulator persists the emulated 3DS NAND, save data, extra data, and a host of other files necessary for Citra to run properly. The path of the user directory varies on different systems:
 on Windows, the path is C:/Users/[your-user-name]/AppData/Roaming/Citra/. Note that the folder AppData is hidden by default, so you need to change the configuration to view it.  in old version of Citra, the user directory used to be the user folder in the same directory as the Citra executable." />
<meta property="og:type" content="website" />


        <meta name="generator" content="Hugo 0.52" />

        <link rel="icon" href="https://citra-emu.org/favicon.ico" />
        <link rel="shortcut icon" href="https://citra-emu.org/favicon.ico" type="image/x-icon" />
        <link rel="canonical" href="https://citra-emu.org/wiki/user-directory/">

        

        <title>User Directory - Citra</title>
        <link href="https://fonts.googleapis.com/css?family=Ubuntu|Dosis" rel="stylesheet">
        <link rel="stylesheet" href="https://citra-emu.org/css/style.css"/>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"
                integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

        
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-73966905-1', 'auto');
                ga('send', 'pageview');
            </script>
        
    </head>

    <body>
        <nav class="navbar navbar-default navbar-wrapper navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">&nbsp;</a>
        </div>

        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="index-1 first"><a href="/" title="Blog Posts">Blog</a></li>
                <li class="index-2"><a href="/download/" title="Download Citra">Download</a></li>
                <li class="index-3"><a href="/help/" title="Help">Help</a></li>
                <li class="index-4"><a href="/wiki/faq/" title="Frequently Asked Questions">FAQ</a></li>
                <li class="index-5"><a href="/game/" title="Game Compatibility">Compatibility</a></li>
                <li class="index-6"><a href="/wiki/home/" title="Wiki Homepage">Dev Wiki</a></li>

                <li class="index-7 dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"
                       role="button" aria-haspopup="true" aria-expanded="false">
                        Social <span class="caret"></span>
                    </a>

                    <ul class="dropdown-menu">
                        <li class="index-1 first"><a href="/rules/" title="">Rules</a></li>
                        <li class="index-2"><a href="https://community.citra-emu.org/" title="Forums">Community Forums</a></li>
                        <li class="index-3 last"><a href="/discord/" title="Discord Channel">Discord Chat</a></li>
                    </ul>
                </li>

                <li class="index-8 dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                                                aria-haspopup="true" aria-expanded="false">
                        Media <span class="caret"></span>
                    </a>

                    <ul class="dropdown-menu">
                        <li class="index-1 first"><a href="/screenshots/" title="Screenshots">Screenshots</a></li>
                        <li class="index-2 last"><a href="https://www.youtube.com/channel/UC_dcdgzuapBtAY4ol3x-90Q"
                                                    title="Youtube Channel">Videos</a></li>
                    </ul>
                </li>

                <li class="index-9 last"><a href="https://www.patreon.com/citraemu" title="Patreon">Patreon</a></li>
            </ul>
        </div>
    </div>
</nav>


        <div id="mainContainer" class="container" >
            <div class="row">
                
            </div>

            <div class="row row-fluid">
                <div id="content" class="col-xs-12 col-sm-12 col-md-9 col-lg-9 pull-right">
                    
  <div class="alert alert-warning">
    <div class="row">
      <div class="col-md-2">
        <strong>Read First!</strong>
      </div>
      <div class="col-md-10">
        <p>The below wiki article is based on user submitted content.<br>
        Please verify <strong>all</strong> hyperlinks and terminal commands below!</p>
        See a mistake? Want to contribute? <a href="https://github.com/citra-emu/citra/wiki/user-directory/_edit/">Edit this article on Github</a>
      </div>
    </div>
  </div>

	<h1>User Directory</h1>
	

<h2 id="the-user-directory">The User Directory</h2>

<p>Citra&rsquo;s user directory is where the emulator persists the emulated 3DS NAND, save data, extra data, and a host of other files necessary for Citra to run properly. The path of the user directory varies on different systems:</p>

<ul>
<li>on Windows, the path is <code>C:/Users/[your-user-name]/AppData/Roaming/Citra/</code>. Note that the folder <code>AppData</code> is hidden by default, so you need to change the configuration to view it.

<ul>
<li>in old version of Citra, the user directory used to be the <code>user</code> folder in the same directory as the Citra executable.</li>
</ul></li>
<li>on macOS and Linux, the path is <code>~/.local/share/citra-emu/</code>. Note that the folder <code>.local</code> is hidden on most machines, so you need to change the configuration to view it. <strong>Additionally, the <code>config</code> folder is located in <code>~/.config/citra-emu/</code></strong>.</li>
</ul>

<p>There are at least three directories within the user directory: <code>config</code>, <code>nand</code>, and <code>sdmc</code>. See below for details about each directory and what data is stored within.</p>

<h5 id="diagram-of-citra-s-user-directory">Diagram of Citra&rsquo;s User Directory</h5>

<pre><code>&quot;User directory&quot;
├── config
├── nand
│   ├── 00000000000000000000000000000000 (optional)
│   └── data
│       ├── sysdata
│       └── extdata
├── sdmc
│   └── Nintendo 3DS
│       ├── 00000000000000000000000000000000
│       |   └── 00000000000000000000000000000000
│       |       ├── title
│       |       └── extdata
│       └── Private
└── sysdata (optional)
    └── aes_keys.txt (optional)
    └── seeddb.bin (optional)
</code></pre>

<h3 id="dumping-files-from-a-3ds">Dumping files from a 3DS</h3>

<p>Included in this guide are instructions on how to dump various files from a 3DS console to put into the Citra user directory. These files are optional in terms of Citra&rsquo;s ability to run, but depending on certain circumstances some may be required in order to run a particular game or get past a certain point in the game. In general, dumping files from a 3DS will require an SD card reader or some way to use wireless file transfer from a 3DS to a computer and that the 3DS being dumped from has <a href="http://smealum.github.io/3ds/">Homebrew Launcher</a> access. More advanced users will also have <a href="https://3ds.guide/">custom firmware</a> and <a href="https://github.com/d0k3/Decrypt9WIP">Decrypt9WIP</a> installed to their 3DS.</p>

<p>If the below articles are too wordy, consult the below tutorials for obtaining optional files to improve the Citra experience:</p>

<ul>
<li><a href="/wiki/dumping-system-archives-and-the-shared-fonts-from-a-3ds-console">Dumping System Archives and the Shared Fonts from a 3DS Console</a></li>
<li><a href="/wiki/dumping-config-savegame-from-a-3ds-console">Dumping Config Savegame from a 3DS Console</a></li>
<li><a href="/wiki/dumping-save-data-from-a-3ds-console">Dumping Save Data from a 3DS Console</a></li>
<li><a href="/wiki/dumping-extra-data-from-a-3ds-console">Dumping Extra Data from a 3DS Console</a></li>
</ul>

<hr />

<h3 id="config">config</h3>

<p>This directory contains files containing information that tell Citra how to run. These files are in plain text and thus are fully editable and contain configurations for mapping controls, which [CPU]] and audio engine to use, rendering and other visual options, the [<a href="/wiki/cpu]]-and-audio-engine-to-use,-rendering-and-other-visual-options,-the-[[log-filters">Log Filters</a>, which region the emulated 3DS belongs to, whether to treat the emulated 3DS as a new 3DS, and whether to insert a virtual SD card into the emulated system.</p>

<p>Changing these files is only to be done by advanced users because making changes at random can cause Citra not to work as expected or at all. The Citra executable has options menus that allow users to change most of the aforementioned configurations safely. If Citra has trouble running after changing a file and the user cannot remember what they changed, delete the configuration files and run the executable again so that they are regenerated automatically (albeit as though Citra is being run for the first time so any existing configurations are lost).</p>

<h3 id="log">log</h3>

<p>This directory contains <code>citra_log.txt</code>. This file is automatically generated by Citra and stores the logging. It is overwritten every time Citra is launched.</p>

<h3 id="nand">nand</h3>

<p>This directory is the emulated 3DS system NAND. It does not match an actual console&rsquo;s NAND exactly due to differences between Citra and a physical 3DS. This directory will contain the <code>data</code> directory and potentially also the system archives.</p>

<h4 id="data">data</h4>

<p>This directory is automatically generated by Citra and contains the system and extra data for the emulated NAND. Inside this directory is another directory, <code>00000000000000000000000000000000</code>. On a physical 3DS, the directory inside <code>data</code> would be named differently. Its name would be 32 characters long and made of hexadecimal characters (0-9 and A-F) instead of it being all 0&rsquo;s like Citra. This knowledge is only important if you plan on dumping any NAND system data or extra data from a physical 3DS and associating it with Citra. The <code>00000000000000000000000000000000</code> contains two folders, <code>extdata</code>, containing NAND extra data, and <code>sysdata</code>, containing NAND system save data.</p>

<h5 id="sysdata">sysdata</h5>

<p>System save data is identified by a title ID, separated into TID High, the first 8 characters of the title ID, and TID Low, the last 8 characters of the title ID. Most system save data has a TID high of 00000000. An individual piece of system save data is stored in <code>sysdata/[TID Low]/[TID High]</code>. For details about the different kinds of system save data, see <a href="https://www.3dbrew.org/wiki/System_SaveData">3dbrew</a>. For first-time Citra users, there may be nothing inside the <code>sysdata</code> directory. In fact this will be the case for most Citra users, and is nothing to be alarmed about. This data will be created automatically in some cases, such as when a Mii is saved in Mii Maker. Almost none of this data is essential for Citra to run homebrew games or backups of licensed titles.</p>

<p>There is one notable exception to the last statement. Citra requires a dump of a physical 3DS&rsquo;s config savegame in order to run a small number of games. Follow the instructions located at <a href="/wiki/dumping-config-savegame-from-a-3ds-console">Dumping Config Savegame from a 3DS Console</a> to obtain the config savegame from a 3DS console.</p>

<p>Other system save data aside from the config savegame can be dumped from a 3DS console by an expert user and placed in the <code>sysdata</code> folder. At this time, though, many features that read from or write to system save data have not been implemented so there is currently little value in doing so. See <a href="https://discuss.citra-emu.org/d/905-nand-sysdata">this discussion topic</a> for more details about dumping system save data.</p>

<h5 id="extdata">extdata</h5>

<p>NAND extra data always has a TID High of 00048000, so the <code>extdata</code> directory should contain a <code>00048000</code> folder, though it has been observed in Citra that there may be a <code>00000000</code> folder instead, and users have reported issues if there is both a <code>00000000</code> and <code>00048000</code> folder contained therein, so it is advised to delete the <code>00000000</code> folder if that is the case. Inside the folder may be nothing, or it may contain one or more directories named <code>F000000#</code>, where # can be the characters A-F or the numbers 0-9. Each of these folders corresponds to a TID low, which can be used to identify the type of extra data stored therein. See <a href="https://www.3dbrew.org/wiki/Extdata?section=13#NAND_Shared_Extdata">3dbrew</a> for details about the different kinds of extra data stored in NAND.</p>

<p>At this point in time, it is possible to dump extra data from a physical 3DS&rsquo;s NAND using a save manager like <a href="https://github.com/J-D-K/JKSM">JKSM</a> and to place it in the <code>extdata</code> directory, but doing so is entirely optional and Citra does not currently emulate NAND features that utilize most of this extra data.</p>

<h4 id="system-archives">system archives</h4>

<p>This folder, named <code>00000000000000000000000000000000</code>, will only exist if the system archives have been dumped from a physical 3DS. The system archives are required for some games to work with Citra. To obtain the system archives, follow the instructions located at <a href="/wiki/dumping-system-archives-and-the-shared-fonts-from-a-3ds-console">Dumping System Archives and the Shared Fonts from a 3DS Console</a>.</p>

<h3 id="sdmc">sdmc</h3>

<p>This directory is the equivalent of the SD card inserted into a physical 3DS, which stores game save, extra data and any titles installed to the SD card in encrypted format. Inside the <code>sdmc</code> folder, just like on a real 3DS console, is a <code>Nintendo 3DS</code> directory, which contains two more directories, <code>Private</code> and <code>00000000000000000000000000000000</code>.</p>

<h4 id="private">Private</h4>

<p>The <code>Private</code> directory on a real 3DS contains camera data (in <code>00020400/phtcache.bin</code>) and sound data (in <code>00020500/voice/...</code>). Citra will create camera data while it is running. If a user wants to copy their camera and sound data to Citra, they can do so easily by copying the <code>Private</code> folder from their SD card and overwriting Citra&rsquo;s, but at this time there is no value in doing so.</p>

<h4 id="00000000000000000000000000000000">00000000000000000000000000000000</h4>

<p>This directory contains another directory of the same name, and inside of that is where game saves (in the <code>title</code> directory) and extra data (in the <code>extdata</code> directory) can be found. On a real SD card, there would not be two <code>00000000000000000000000000000000</code> folders, but instead the folders would be named as hexadecimal characters corresponding to a 3DS console ID. If a user wishes to extract save or extra data from their physical console, they do not need to worry about the console ID not matching Citra&rsquo;s <code>00000000000000000000000000000000</code> folders.</p>

<h5 id="title">title</h5>

<p>If any games have been saved while playing them with Citra, there should be a folder inside <code>sysdata</code> named <code>00040000</code>. This folder contains all of the save data for 3DS titles. It is entirely possible to retrieve save data from an SD card using a physical 3DS console and import it into Citra to continue a game where it was last left off on the console. See [Dumping Save Data from a 3DS Console]] for instructions. On a real SD card, the <code>sysdata</code> folder will also contain the files required to run any 3DS titles installed to the SD card. This can be mimicked somewhat by [<a href="/wiki/dumping-save-data-from-a-3ds-console]]-for-instructions.-on-a-real-sd-card,-the-`sysdata`-folder-will-also-contain-the-files-required-to-run-any-3ds-titles-installed-to-the-sd-card.-this-can-be-mimicked-somewhat-by-[[dumping-installed-titles">Dumping Installed Titles</a> and importing them into Citra&rsquo;s <code>sysdata</code> directory but this is unnecessary since Citra can run them from anywhere on a computer filesystem and doesn&rsquo;t require the accompanying .tmd and .cmd files.</p>

<p>On a real SD card, there may be two other directories inside <code>sysdata</code>. These directories are named <code>0004000e</code> and <code>0004008c</code> and correspond to downloaded game updates and DLC respectively. The data contained within these directories can be backed up on a computer as decrypted CIA files and installed with Citra (<a href="/wiki/dumping-updates-and-dlcs">Dumping Updates and DLCs</a>). The latest version of GodMode9 is required to redump your DLCs if you do not own all them as it was dumped incorrectly before.</p>

<h5 id="extdata-1">extdata</h5>

<p>This directory contains all of the extra data created when playing 3DS game backups. Citra emulates a console&rsquo;s behavior of reading from and writing to extra data, so this data can be dumped from an SD card using a physical 3DS console and imported into Citra. See <a href="/wiki/dumping-extra-data-from-a-3ds-console">Dumping Extra Data from a 3DS Console</a> for instructions.</p>

<h5 id="other-folders">other folders</h5>

<p>If a real SD card is compared to Citra&rsquo;s emulated SD card, Citra may appear to be missing one or more folders present on the real SD card: <code>dbs</code>, <code>backups</code>, and <code>Nintendo DSiWare</code>. The <code>dbs</code> folder contains a 3DS console&rsquo;s title database. The <code>backups</code> folder contains saved data backed up via the Home Menu. The <code>Nintendo DSiWare</code> folder contains exported DSi exports. Citra does not need any of these folders so there is currently no value in dumping them.</p>

<h3 id="sysdata-1">sysdata</h3>

<p>This directory can contain two files.</p>

<ul>
<li><p><code>shared_font.bin</code>: this was a legacy system font data dumped from old versions of 3dsutils and is no longer supported. If the user does not have shared font installed, Citra will use the open source font replacement instead. Users should redump their shared font since the open source font replacement may not always look accurate. See <a href="/wiki/dumping-system-archives-and-the-shared-fonts-from-a-3ds-console">Dumping System Archives and the Shared Fonts from a 3DS Console</a> for more information.</p></li>

<li><p><code>aes_keys.txt</code>: this file holds decryption keys. See <a href="/wiki/aes-keys">AES Keys</a> for more information</p></li>

<li><p><code>seeddb.bin</code>: SeedDB used for seed crypto &amp; FS SeedDB functions</p></li>
</ul>


                </div>
                <div id="sidebar" class="col-xs-12 col-sm-12 col-md-3 col-lg-3 pull-left">
                    <div id="advertisement" class = "ad">
  <h3>Advertisement</h3>
  <ins class="ad adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4126545610079023"
       data-ad-slot="4223809695"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

<div class="tagcloud hidden-sm hidden-xs">
  <h3>News Tag Cloud</h3>
  <ul>
    
      <li><a class="taxonomy-citra-release" href="/tags/citra-release">citra-release</a></li>
    
      <li><a class="taxonomy-feature-update" href="/tags/feature-update">feature-update</a></li>
    
      <li><a class="taxonomy-progress-report" href="/tags/progress-report">progress-report</a></li>
    
  </ul>
</div>

<div id="twitter" class="hidden-sm hidden-xs">
  <a class="twitter-timeline" data-tweet-limit="3" href="https://twitter.com/citraemu?ref_src=twsrc%5Etfw">Tweet Feed</a>
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>

                </div>
            </div>
        </div>

        <div id="footer" class="container">
            <div class="row">

                <div class="col-md-2">
                    <h1>Citra</h1>
                    <a href="/">Blog</a>
                    <a href="/download/">Downloads</a>
                    <a href="/screenshots/">Screenshots</a>
                    <a href="https://www.patreon.com/citraemu">Patreon</a>
                    <a href="/donate/">Donate</a>
                </div>

                <div class="col-md-2">
                    <h1>Documentation</h1>
                    <a href="/help/">Help Documents</a>
                    <a href="/game/">Compatibility</a>
                    <a href="/wiki/home/">Dev Wiki</a>
                    <a href="/wiki/faq/">FAQ</a>
                </div>

                <div class="col-md-2">
                    <h1>Blog</h1>
                    <a href="/">News &amp; Articles</a>
                    <a href="https://citra-emu.org/index.xml">RSS 2.0</a>
                </div>

                <div class="col-md-2">
                    <h1>Social</h1>
                    <a href="https://www.youtube.com/channel/UC_dcdgzuapBtAY4ol3x-90Q">YouTube</a>
                    <a href="https://www.facebook.com/citra.emu">Facebook</a>
                    <a href="https://twitter.com/citraemu">Twitter</a>
                    <a href="https://community.citra-emu.org/">Forums</a>
                    <a href="/discord">Discord</a>
                    <a href="/chat">IRC</a>
                    </ul>
                </div>

                <div class="col-md-2">
                    <h1>Get Involved</h1>
                    <a href="https://github.com/citra-emu/citra">GitHub / Source</a>
                    <a href="https://github.com/citra-emu/citra/issues">Issues</a>
                    <a href="https://github.com/citra-emu/citra/pulls">Pull Requests</a>
                </div>

            </div>
            <div id="footer-bottom">
                <div id="footer-brand"></div>
                <div id="footer-legal">Copyright © 2020 Citra Emulator Project</div>
            </div>
        </div>

        <script src="https://citra-emu.org/js/script.js"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.10.0/baguetteBox.min.css" type="text/css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.10.0/baguetteBox.min.js" type="text/javascript"></script>

		<script type="text/javascript">
			window.addEventListener("DOMContentLoaded", function() {
			baguetteBox.run('.is-img-preview');
			});
		</script>

        

        
    </body>

</html>
